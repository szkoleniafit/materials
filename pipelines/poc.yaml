name: $(Date:yyyyMMdd).$(Rev:r).$(Build.BuildId)

stages:
  - stage: PreBuild
    displayName: Pre build stage
    jobs:
    - job: Build
      steps:
        - template: ../templates/echo_list.yml

- stage: Build
    displayName: Build stage
    dependsOn: PreBuild
    #variables:
    #  list: $[ dependencies.PreBuild.echo.outputs['passOutput.MODULES_IMPACTED'] ]
    jobs:
      - template: ../templates/job1.yaml
        parameters:
          var: "1 2 3 4"
